\hypertarget{ifile_8h}{}\section{src/ifile.h File Reference}
\label{ifile_8h}\index{src/ifile.\+h@{src/ifile.\+h}}
{\ttfamily \#include $<$hdf5.\+h$>$}\\*
{\ttfamily \#include $<$sqlite3.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include \char`\"{}globals.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structIFILE}{I\+F\+I\+L\+E}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{ifile_8h_a4c87f2422d07b33f43a7563a96292870}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+C\+L\+O\+S\+E\+D}~0\label{ifile_8h_a4c87f2422d07b33f43a7563a96292870}

\item 
\hypertarget{ifile_8h_a5ec8299bd57bfaba837e7899337b8611}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+R}~1\label{ifile_8h_a5ec8299bd57bfaba837e7899337b8611}

\item 
\hypertarget{ifile_8h_a67f83ada72414797b0b6cb4362a43e91}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+W}~2\label{ifile_8h_a67f83ada72414797b0b6cb4362a43e91}

\item 
\hypertarget{ifile_8h_a325d8d227f8792fa45ebaa6af8c31679}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+A}~3\label{ifile_8h_a325d8d227f8792fa45ebaa6af8c31679}

\item 
\hypertarget{ifile_8h_ad598a331780469064885cefe0c2f0252}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+R\+P}~4\label{ifile_8h_ad598a331780469064885cefe0c2f0252}

\item 
\hypertarget{ifile_8h_adf7bf710c4fd9b9580db050bab420eba}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+W\+P}~5\label{ifile_8h_adf7bf710c4fd9b9580db050bab420eba}

\item 
\hypertarget{ifile_8h_ac6f8bdaeab33c39ad16d2993fd0f3fb2}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+A\+P}~6\label{ifile_8h_ac6f8bdaeab33c39ad16d2993fd0f3fb2}

\item 
\hypertarget{ifile_8h_a06f116afdad5d032235ff5fb96cddc6d}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+W\+X}~7\label{ifile_8h_a06f116afdad5d032235ff5fb96cddc6d}

\item 
\hypertarget{ifile_8h_a3fd8ee5e1f2c87bbcca41e578468c6a8}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+W\+X\+P}~8\label{ifile_8h_a3fd8ee5e1f2c87bbcca41e578468c6a8}

\item 
\hypertarget{ifile_8h_a423bfd0d629d4e9dca21701289b4e0fe}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+S\+U\+C\+C\+E\+S\+S}~1\label{ifile_8h_a423bfd0d629d4e9dca21701289b4e0fe}

\item 
\hypertarget{ifile_8h_a194b76ce6b8488bacce30f9db4cee85a}{}\#define {\bfseries I\+F\+I\+L\+E\+\_\+\+F\+A\+I\+L\+U\+R\+E}~2\label{ifile_8h_a194b76ce6b8488bacce30f9db4cee85a}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ \hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open} (hid\+\_\+t file\+\_\+id, const char $\ast$ifilename, const char $\ast$access)
\begin{DoxyCompactList}\small\item\em I\+File\+Open is used to open an internal file in a Geo\+Sci File. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_ac4ac8967cccb663f226269e3e56c2332}{I\+File\+Clear\+Error} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Clear\+Error clears the error condition on an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Close closes an internal file in a Geo\+Sci File. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_aaaf332e19de762dcb8236862d6b5a937}{I\+File\+E\+O\+F} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+E\+O\+F returns the End-\/\+Of-\/\+File condition of the previous internal read. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a6c803c53f6270b21c375b7e07b05f1c8}{I\+File\+Error} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Error returns error condition on an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_acdc8db0aa84870da8326e8b330d9849a}{I\+File\+Flush} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Flush flushes unwritten buffers to an internal file in a Geo\+Sci File. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a825ee82a052e84aa6a0601f6ba11e77a}{I\+File\+Getc} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Getc reads a character from an internal file. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{ifile_8h_a3afc35a680bf7e55be809265a899aef8}{I\+File\+Gets} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, char $\ast$str, int num)
\begin{DoxyCompactList}\small\item\em I\+File\+Gets reads characters from an internal file in a geosci file, and stores them as a string until the maximum number of characters have been read or either a newline or the end-\/of-\/file is reached, whichever happens first. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a40774bec8a23ec055276666af845a64b}{I\+File\+Seek} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, long int offset, int origin)
\begin{DoxyCompactList}\small\item\em I\+File\+Seek moves to a position in an internal file. \end{DoxyCompactList}\item 
long int \hyperlink{ifile_8h_abba9b29cbd1df9a22516366c96c528fa}{I\+File\+Tell} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Tell retrieves the current read/write position in an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a7a163f17d23c422baeebd61229f70c40}{I\+File\+Rewind} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Rewind moves to the start of an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a361dcf308fbd5daa498812775caef88c}{I\+File\+Perror} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, const char $\ast$str)
\begin{DoxyCompactList}\small\item\em I\+File\+Perror prints latest error for an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_ade52718b208c03db3694dbbdcf30a205}{I\+File\+Read\+Access} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Read\+Access reads access code of an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a169de07d52b678ebcd4cafa3d7852b79}{I\+File\+Read\+Access\+H\+D\+F} (hid\+\_\+t dataset\+\_\+id)
\begin{DoxyCompactList}\small\item\em I\+File\+Read\+Access\+H\+D\+F reads access code of an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a1b9797ae1226f5e7dc952e6686adfd8c}{I\+File\+Write\+Access} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, int code)
\begin{DoxyCompactList}\small\item\em I\+File\+Write\+Access writes a new access code for an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a5bb191751816b8560f059ca213c725a5}{I\+File\+Allocate} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, long int offset, long int length)
\begin{DoxyCompactList}\small\item\em I\+File\+Allocate is used to allocate more space to an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_af36409944c39397b10b715e02478d560}{I\+File\+Printf} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, const char $\ast$format,...)
\begin{DoxyCompactList}\small\item\em I\+File\+Printf writes formatted data to an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a8a7e66cd5decd8a753cc05d87e796399}{I\+File\+Putc} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, char character)
\begin{DoxyCompactList}\small\item\em I\+File\+Putc writes a single character to an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a5a2e70727c241df05141bfebccbea299}{I\+File\+Puts} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, const char $\ast$string)
\begin{DoxyCompactList}\small\item\em I\+File\+Puts writes a string to an internal file. \end{DoxyCompactList}\item 
size\+\_\+t \hyperlink{ifile_8h_a72ec9c17d545304d3a89fa6bc6145317}{I\+File\+Read} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, void $\ast$buf, int size, int count)
\begin{DoxyCompactList}\small\item\em I\+File\+Read reads the requested number of bytes from an internal file in a geosci file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_ad45d5e4d60551a22f2733addc723cc36}{I\+File\+Read\+Status} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, char $\ast$$\ast$message)
\begin{DoxyCompactList}\small\item\em I\+File\+Read\+Status reads the status properties of an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a04c255b65dccaf71c2e826a3ecfbd3ee}{I\+File\+Write\+Status} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, int status, const char $\ast$message)
\begin{DoxyCompactList}\small\item\em I\+File\+Write\+Status writes the status properties of an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_ae2d81157c93e90f61645886bc82f4c8f}{I\+File\+Write\+Status\+Message} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, const char $\ast$message)
\begin{DoxyCompactList}\small\item\em I\+File\+Write\+Status\+Message writes the status message of an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_adfedf1cfc33e7e1006f6eeddc98530b1}{I\+File\+Scanf} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, const char $\ast$format,...)
\begin{DoxyCompactList}\small\item\em I\+File\+Scanf reads formatted data from an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a52b582df33eb77703df1219114a64368}{I\+File\+Set\+E\+O\+F} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, int value)
\begin{DoxyCompactList}\small\item\em I\+File\+Set\+E\+O\+F sets End-\/\+Of-\/\+File condition on an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_aefcce5509a2d88c4c8d6f9c7cd9c9ccd}{I\+File\+Set\+Writeability} (hid\+\_\+t file\+\_\+id, const char $\ast$name, int property)
\begin{DoxyCompactList}\small\item\em I\+File\+Set\+Writeability sets the read/write property of an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a8c67218594c24854e1bf9eec02519ece}{I\+File\+Get\+Write} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Get\+Write gets the read/write property of an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_a396268f8a6f981e1d514b6a08d545761}{I\+File\+Set\+Write} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, int property)
\begin{DoxyCompactList}\small\item\em I\+File\+Set\+Write sets the read/write property of an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_ada46c060c57740d8109507fd86ab89e7}{I\+File\+Get\+Write\+Dataset} (hid\+\_\+t dataset\+\_\+id)
\begin{DoxyCompactList}\small\item\em I\+File\+Get\+Write\+Dataset gets the read/write property of an internal file. \end{DoxyCompactList}\item 
long int \hyperlink{ifile_8h_ae4b0643765d564071f1f55f33ebb6e10}{I\+File\+Size} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Size gets the \#bytes in an internal file. \end{DoxyCompactList}\item 
long int \hyperlink{ifile_8h_af1a575404e6e3648952ae70d281b3552}{I\+File\+Size\+H\+D\+F} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep)
\begin{DoxyCompactList}\small\item\em I\+File\+Size\+H\+D\+F gets the \#bytes in an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_af18bb2cd94833d1f8f7176d12537695c}{I\+File\+Truncate} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, long int length)
\begin{DoxyCompactList}\small\item\em I\+File\+Truncate changes the size of an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_af21affaf53c0b66911c745dd6248ccf7}{I\+File\+Write} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, const void $\ast$buf, int size, int count)
\begin{DoxyCompactList}\small\item\em I\+File\+Write writes bytes to an internal file. \end{DoxyCompactList}\item 
int \hyperlink{ifile_8h_aef0ba4b82b44ad03f5781d3b5e7021ac}{I\+File\+Read\+A\+Line} (\hyperlink{structIFILE}{I\+F\+I\+L\+E} $\ast$ifilep, char $\ast$str, int num)
\begin{DoxyCompactList}\small\item\em I\+File\+Read\+A\+Line reads a string from an internal file. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{ifile_8h_a5bb191751816b8560f059ca213c725a5}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Allocate@{I\+File\+Allocate}}
\index{I\+File\+Allocate@{I\+File\+Allocate}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Allocate}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Allocate (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{long int}]{offset, }
\item[{long int}]{length}
\end{DoxyParamCaption}
)}\label{ifile_8h_a5bb191751816b8560f059ca213c725a5}


I\+File\+Allocate is used to allocate more space to an internal file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em offset} & The offset, in bytes, from the start of the file where the newly-\/allocates bytes must start. Should be $>$= 0. \\
\hline
\mbox{\tt in}  & {\em length} & The length, in bytes, of the region of the newly-\/allocated bytes. Should be $>$0.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+U\+E is returned on success, F\+A\+L\+S\+E otherwise. The error\+\_\+string variable is also set to a system-\/specific error code on failure.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to add 100 bytes to the end of an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 long int istart, icount;
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 if(!ifilep) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 istart=IFileSize(ifilep);
11 
12 icount = 100L;
13 if(!IFileAllocate(ifilep, istart, icount))\{
14    printf("allocate failed\(\backslash\)n");
15 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
If the size of the file is less than offset+len, then the file is increased to this size; otherwise the file size is left unchanged. This function is meant to emulate as close as possible the standard posix\+\_\+fallocate() function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_ac4ac8967cccb663f226269e3e56c2332}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Clear\+Error@{I\+File\+Clear\+Error}}
\index{I\+File\+Clear\+Error@{I\+File\+Clear\+Error}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Clear\+Error}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Clear\+Error (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_ac4ac8967cccb663f226269e3e56c2332}


I\+File\+Clear\+Error clears the error condition on an internal file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+U\+E is returned on S\+U\+C\+C\+E\+S\+S, F\+A\+L\+S\+E otherwise. The error\+\_\+string variable is also set to a system-\/specific error code on failure.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to clear any error related to the previous read from an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 char c;
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 ....
7 c = IFileGets(ifilep);
8 
9 IFileClearError(ifilep);
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C clearerr() function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Close@{I\+File\+Close}}
\index{I\+File\+Close@{I\+File\+Close}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Close}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Close (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}


I\+File\+Close closes an internal file in a Geo\+Sci File. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+U\+E is returned on success, F\+A\+L\+S\+E on failure. The error\+\_\+string variable is also set to a system-\/specific error code on failure.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example 1}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to close an internal file name \char`\"{}/somename\char`\"{}\+: 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 if(!IFileClose(ifilep))\{
9    printf("IFileClose failed on /somename\(\backslash\)n");
10 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Example 2}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to close an internal file that\textquotesingle{}s inside another group\+: 
\begin{DoxyCode}
1 hid\_t file\_id, group\_id;
2 IFILE *ifilep;
3 
4 group\_id = GS\_GroupCreate(file\_id,"/group1");
5 if(group\_id < 0) \{
6    printf("GS\_GroupCreate failed on /group1\(\backslash\)n");
7    exit(-1);
8 \}
9 ifilep = IFileOpen(file\_id,"/group1/somename","w");
10 if(!ifilep) \{
11    printf("IFileOpen failed on /group1/somename\(\backslash\)n");
12    exit(-1);
13 \}
14 if(!IFileClose(ifilep))\{
15    printf("IFileClose failed on /group1/somename\(\backslash\)n");
16    exit(-1);
17 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C fclose() function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_aaaf332e19de762dcb8236862d6b5a937}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+E\+O\+F@{I\+File\+E\+O\+F}}
\index{I\+File\+E\+O\+F@{I\+File\+E\+O\+F}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+E\+O\+F}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+E\+O\+F (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_aaaf332e19de762dcb8236862d6b5a937}


I\+File\+E\+O\+F returns the End-\/\+Of-\/\+File condition of the previous internal read. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+U\+E is returned if a previous read tried to read past the end-\/of-\/file, F\+A\+L\+S\+E if not. E\+R\+R\+O\+R is returned on any kind of error. The error\+\_\+string variable is also set to a system-\/specific error code on failure.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to determine if the previous read from an internal file named \char`\"{}/somename\char`\"{} succeeded or not. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 if(!IFileEOF(ifilep))\{
9    printf("previous read DID NOT read past end-of-file\(\backslash\)n");
10 \} else \{
11    printf("previous read DID read past end-of-file\(\backslash\)n");
12 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details }
This function is meant to emulate as close as possible the standard C feof() function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a6c803c53f6270b21c375b7e07b05f1c8}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Error@{I\+File\+Error}}
\index{I\+File\+Error@{I\+File\+Error}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Error}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Error (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_a6c803c53f6270b21c375b7e07b05f1c8}


I\+File\+Error returns error condition on an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
F\+A\+L\+S\+E is returned if \char`\"{}last\+\_\+operation\+\_\+status\char`\"{} metadata for the internal file is \char`\"{}\+S\+U\+C\+C\+E\+S\+S\char`\"{}, T\+R\+U\+E otherwise. E\+R\+R\+O\+R is returned on any kind of error. The error\+\_\+string variable is also set to a system-\/specific error code on failure.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to determine if the previous read from an internal file named \char`\"{}/somename\char`\"{} succeeded or not. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 
9 if(!IFileError(ifilep))\{
10    printf("previous read DID NOT cause an error\(\backslash\)n");
11 \} else \{
12    printf("previous read DID cause an error\(\backslash\)n");
13 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C ferror() function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_acdc8db0aa84870da8326e8b330d9849a}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Flush@{I\+File\+Flush}}
\index{I\+File\+Flush@{I\+File\+Flush}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Flush}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Flush (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_acdc8db0aa84870da8326e8b330d9849a}


I\+File\+Flush flushes unwritten buffers to an internal file in a Geo\+Sci File. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+U\+E is returned on success, F\+A\+L\+S\+E on failure. The error\+\_\+string variable is also set to a system-\/specific error code on failure.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to flush an internal file named \char`\"{}/somename\char`\"{}\+: 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 if(!IFileFlush(ifilep))\{
9    printf("IFileFlush failed on /somename\(\backslash\)n");
10 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C fflush() function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a825ee82a052e84aa6a0601f6ba11e77a}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Getc@{I\+File\+Getc}}
\index{I\+File\+Getc@{I\+File\+Getc}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Getc}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Getc (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_a825ee82a052e84aa6a0601f6ba11e77a}


I\+File\+Getc reads a character from an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, the character read is returned (promoted to an int value). If the file position indicator was at the end-\/of-\/file, the function returns E\+R\+R\+O\+R and sets the end-\/of-\/file indicator (I\+File\+E\+O\+F). If some other reading error happens, the function also returns E\+R\+R\+O\+R, but sets its error indicator (I\+File\+Error) instead.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to read the next character from an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 int the\_int\_char;
4 char the\_char;
5 
6 ifilep = IFileOpen(file\_id,"/somename","w");
7 if(!ifilep) \{
8    printf("IFileOpen failed on /somename\(\backslash\)n");
9 \}
10 
11 the\_int\_char = IFileGetc(ifilep);
12 if(the\_int\_char < 0) \{
13    printf("read failed\(\backslash\)n");
14 \}
15 
16 the\_char = (char *)the\_int\_char;
17 
18 ...use the\_char here....
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C fgetc() function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a3afc35a680bf7e55be809265a899aef8}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Gets@{I\+File\+Gets}}
\index{I\+File\+Gets@{I\+File\+Gets}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Gets}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ I\+File\+Gets (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{char $\ast$}]{str, }
\item[{int}]{num}
\end{DoxyParamCaption}
)}\label{ifile_8h_a3afc35a680bf7e55be809265a899aef8}


I\+File\+Gets reads characters from an internal file in a geosci file, and stores them as a string until the maximum number of characters have been read or either a newline or the end-\/of-\/file is reached, whichever happens first. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, File\+Close
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in,out}  & {\em str} & Pointer to an array of chars where the string read is copied. \\
\hline
\mbox{\tt in}  & {\em num} & Maximum number of characters to be copied into {\ttfamily str} (including the terminating null-\/character).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, the function returns {\ttfamily str}.

If the end-\/of-\/file is encountered while attempting to read a character, the eof indicator is set (I\+File\+E\+O\+F). If this happens before any characters could be read, the pointer returned is a null pointer (and the contents of {\ttfamily str} remain unchanged).

If a read error occurs, the error indicator (I\+File\+Error) is set and a null pointer is also returned (but the contents pointed-\/to by {\ttfamily str} may have changed). 
\end{DoxyReturn}


\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to read the next line of characters (up to the next \char`\"{}\textbackslash{}n\char`\"{}) from an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 char the\_string[1000];
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 if(!ifielp) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 the\_string = IFileGets(ifilep, the\_string, 1000);
11 if(!the\_string) \{
12    printf("read failed\(\backslash\)n");
13 \}
14 
15 ...use the\_string here....
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C fgets() function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a8c67218594c24854e1bf9eec02519ece}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Get\+Write@{I\+File\+Get\+Write}}
\index{I\+File\+Get\+Write@{I\+File\+Get\+Write}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Get\+Write}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Get\+Write (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_a8c67218594c24854e1bf9eec02519ece}


I\+File\+Get\+Write gets the read/write property of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+U\+E is returned if the internal file is writeable, F\+A\+L\+S\+E if not writeable.

E\+R\+R\+O\+R is returned on any kind of error. The error\+\_\+string variable is also set to a system-\/specific error code on failure. 
\end{DoxyReturn}


\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to determine if the internal file named \char`\"{}/somename\char`\"{} is writeable. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 
9 status = IFileGetWrite(ifilep);
10 if( status ==FALSE)\{
11    printf("Cannot write to internal file\(\backslash\)n");
12 \} else if(status == TRUE) \{
13    printf("Can write to internal file\(\backslash\)n");
14 \} else \{
15    printf("error getting write-status of internal file\(\backslash\)n");
16 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to enable a user to make an internal file have read and write rights like in the standard file system. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_ada46c060c57740d8109507fd86ab89e7}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Get\+Write\+Dataset@{I\+File\+Get\+Write\+Dataset}}
\index{I\+File\+Get\+Write\+Dataset@{I\+File\+Get\+Write\+Dataset}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Get\+Write\+Dataset}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Get\+Write\+Dataset (
\begin{DoxyParamCaption}
\item[{hid\+\_\+t}]{dataset\+\_\+id}
\end{DoxyParamCaption}
)}\label{ifile_8h_ada46c060c57740d8109507fd86ab89e7}


I\+File\+Get\+Write\+Dataset gets the read/write property of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em id;} & The handle of the open dataset.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily T\+R\+U\+E} is returned if the dataset is writeable, {\ttfamily F\+A\+L\+S\+E} if not writeable.

E\+R\+R\+O\+R is returned on any kind of error. The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure. 
\end{DoxyReturn}


\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to determine if the internal file named \char`\"{}/somename\char`\"{} is writeable. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 hid\_t dataset\_id;
3 
4 dataset\_id = GS\_DatasetOpen(file\_id,"/somename");
5 if(datset\_id < 0) \{
6    printf("GS\_DatasetOpen failed on /somename\(\backslash\)n");
7 \}
8 
9 status = IFileGetWriteDataset(ifilep);
10 if( status ==FALSE)\{
11    printf("Cannot write to internal file\(\backslash\)n");
12 \} else if(status == TRUE) \{
13    printf("Can write to internal file\(\backslash\)n");
14 \} else \{
15    printf("error getting write-status of internal file\(\backslash\)n");
16 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Detials}
This function is meant to enable a user to make an internal file have read and write rights like in the standard file system. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a659760c048381d534347487e14cd5e25}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Open@{I\+File\+Open}}
\index{I\+File\+Open@{I\+File\+Open}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Open}]{\setlength{\rightskip}{0pt plus 5cm}{\bf I\+F\+I\+L\+E}$\ast$ I\+File\+Open (
\begin{DoxyParamCaption}
\item[{hid\+\_\+t}]{file\+\_\+id, }
\item[{const char $\ast$}]{ifilename, }
\item[{const char $\ast$}]{access}
\end{DoxyParamCaption}
)}\label{ifile_8h_a659760c048381d534347487e14cd5e25}


I\+File\+Open is used to open an internal file in a Geo\+Sci File. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\+\_\+id} & The handle of the open Geo\+Sci file. \\
\hline
\mbox{\tt in}  & {\em ifilename} & The name of the internal file in an existing Geo\+Sci file to be opened. Use Unix filenaming conventions, giving the full pathname, starting with \char`\"{}/\char`\"{}. All but the last component of this name must already exist. \\
\hline
\mbox{\tt in}  & {\em access} & Access mode for the I\+File, similar to that used for files\+: ~\newline
 
\begin{DoxyItemize}
\item \char`\"{}r\char`\"{} read\+: Open internal file for input operations. Must already exist.
\item \char`\"{}w\char`\"{} write\+: Create an empty file for output operations. If an internal file with the same name already exists, its contents are discarded and the file is treated as a new empty internal file.
\item \char`\"{}a\char`\"{} append\+: Open internal file for output at the end of a the file. Output operations always write data at the end of the file, expanding it. Repositioning operations (I\+File\+Seek, I\+File\+Setpos, I\+File\+Rewind) are silently ignored. The internal file is created if it does not exist.
\item \char`\"{}r+\char`\"{} read/update\+: Open an internal file for update (both for input and output). The file must already exist.
\item \char`\"{}w+\char`\"{} write/update\+: Create an empty internal file and open it for update (both for input and output). If an internal file with the same name already exists its contents are discarded and the internal file is treated as a new empty file.
\item \char`\"{}a+\char`\"{} append/update\+: Open an internal file for update (both for input and output) with all output operations writing data at the end of the file. Repositioning operations (I\+File\+Seek, I\+File\+Setpos, I\+File\+Rewind) affect the next input operations, but output operations move the position back to the end of internal file. The internal file is created if it does not exist.
\end{DoxyItemize}

The letter \char`\"{}x\char`\"{} can be appended to any \char`\"{}w\char`\"{} specifier (to form \char`\"{}wx\char`\"{} or \char`\"{}w+x\char`\"{}). This subspecifier forces the function to fail if the internal file exists, instead of overwriting it. ~\newline
 Sometimes a \char`\"{}b\char`\"{} is appended to indicate binary mode for reading and writing, but that is not necessary, so it is ignored. \\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
If the internal file is successfully opened, the function returns a pointer to a structure, otherwise a N\+U\+L\+L pointer is returned.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example 1}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to add an internal file, named \char`\"{}somename\char`\"{}, off of the root\+: 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Example 2}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to add an internal file inside another group\+: 
\begin{DoxyCode}
1 hid\_t file\_id, group\_id;
2 IFILE *ifilep;
3 bstring name=bfromcstr("/group1");
4 group\_id = GS\_GroupCreate(file\_id,name);
5 bdestroy(name);
6 if(group\_id < 0) \{
7    printf("GroupCreate failed on /group1\(\backslash\)n");
8    exit(-1);
9 \}
10 ifilep = IFileOpen(file\_id,"/group1/somename","w");
11 if(!ifilep) \{
12    printf("IFileOpen failed on /group1/somename\(\backslash\)n");
13    exit(-1);
14 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C fopen() function.

For internal files open for update (those which include a \char`\"{}+\char`\"{} sign), on which both input and output operations are allowed, the file should be flushed (I\+File\+Flush) or repositioned (I\+File\+Seek, I\+File\+Setpos, I\+File\+Rewind) between either a writing operation followed by a reading operation or a reading operation which did not reach the end-\/of-\/file followed by a writing operation.

When appropriate, this routine creates a single-\/dimensional unsigned-\/8-\/bit dataset with the given name. The components of the pathname above the filename must already exist, and be H\+D\+F5 groups in order for this to work.

Note that even if you intend to only read from an I\+File, you need to open the Geo\+Sci file for reading A\+N\+D writing (\char`\"{}r+\char`\"{}). This is because the state of the internal file is written to metadata in the Geo\+Sci file, even if one is only reading from the I\+File. 
\end{DoxyParagraph}


\begin{DoxyParagraph}{Implementation}
For developers, the details of the implementation are presented here.

The complete list of all 34 I\+File-\/related functions is given below\+:


\begin{DoxyItemize}
\item G\+S\+\_\+\+Object\+Is\+I\+File (also contains Object\+Is\+I\+File\+By\+I\+D)
\item G\+S\+\_\+\+Object\+Is\+Metadata\+I\+File
\item Dataset\+Get\+Type
\item Dataset\+Set\+Type
\item I\+File\+Allocate
\item I\+File\+Clear\+Error
\item I\+File\+Close
\item I\+File\+E\+O\+F
\item I\+File\+Error
\item I\+File\+Flush
\item I\+File\+Getc
\item I\+File\+Gets
\item I\+File\+Get\+Write
\item I\+File\+Open
\item I\+File\+Perror
\item I\+File\+Printf
\item I\+File\+Putc
\item I\+File\+Puts
\item I\+File\+Read\+Access
\item I\+File\+Read
\item I\+File\+Read\+Status
\item I\+File\+Rewind
\item I\+File\+Scanf
\item I\+File\+Seek
\item I\+File\+Set\+E\+O\+F
\item I\+File\+Set\+Writeability
\item I\+File\+Set\+Write
\item I\+File\+Size
\item I\+File\+Tell
\item I\+File\+Truncate
\item I\+File\+Write\+Access
\item I\+File\+Write
\item I\+File\+Write\+Status
\item I\+File\+Write\+Status\+Message
\end{DoxyItemize}

Some of these are named based on the standard C library functions that they emulate. Others are implementation-\/specific functions.

The overall idea of a I\+File is that of a H\+D\+F5 dataset. This dataset is 1-\/dimensional, with a datatype of unsigned-\/8-\/bit. It is infinitely extendable. It has three string attributes\+:


\begin{DoxyItemize}
\item writeable\+: \char`\"{}\+T\+R\+U\+E\char`\"{} or \char`\"{}\+F\+A\+L\+S\+E\char`\"{}. The user can set this so that don\textquotesingle{}t accidentally over-\/write it or delete it. All I\+Files are created with writeable=\char`\"{}\+T\+R\+U\+E\char`\"{}
\item access\+: an integer betwen 0 and 6, converted to a string. Corresponds to one of the following \#define\textquotesingle{}d parameters\+: \begin{DoxyItemize}
\item I\+F\+I\+L\+E\+\_\+\+C\+L\+O\+S\+E\+D 0 \item I\+F\+I\+L\+E\+\_\+\+R 1 \item I\+F\+I\+L\+E\+\_\+\+W 2 \item I\+F\+I\+L\+E\+\_\+\+A 3 \item I\+F\+I\+L\+E\+\_\+\+R\+P 4 \item I\+F\+I\+L\+E\+\_\+\+W\+P 5 \item I\+F\+I\+L\+E\+\_\+\+A\+P 6\end{DoxyItemize}
These are named based on the access string used during the \hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open()} function-\/call, the \char`\"{}\+P\char`\"{} meaning \char`\"{}+\char`\"{}. This keeps track of how the file was opened so only appropriate operations are allowed. Note that a file that is open cannot be opened by another command\+: the file must be C\+L\+O\+S\+E\+D in order to be opened. This implements a very simple locking mechanism
\item dataset\+\_\+type\+: for an I\+File this must be \char`\"{}10\char`\"{}, which corresponds to the C \#define G\+S\+\_\+\+O\+B\+J\+E\+C\+T\+\_\+\+T\+Y\+P\+E\+\_\+\+I\+F\+I\+L\+E This is needed because image rasters are stored as datasets as well, and we need to distinguish between these.
\end{DoxyItemize}

The returned data structure is defined as\+: 
\begin{DoxyCode}
1 typedef struct \{
2   hid\_t ifile\_id;
3   long int file\_position;
4   int readPastEOF;
5   int last\_operation\_status;
6   bstring last\_operation\_status\_message;
7   int access;
8   long int size;
9 \} IFILE;
\end{DoxyCode}



\end{DoxyParagraph}
\begin{DoxyParagraph}{}
The parameters in this structure are defined as follows\+:
\end{DoxyParagraph}

\begin{DoxyItemize}
\item {\itshape ifile\+\_\+id}\+: the H\+D\+F5 object-\/id for this dataset.
\item {\itshape file\+\_\+position}\+: This is the next byte to read-\/from or write-\/to, where file\+\_\+position=0 means to read/write the first byte in the file.
\item {\itshape read\+Past\+E\+O\+F}\+: \char`\"{}\+T\+R\+U\+E\char`\"{}=1 or \char`\"{}\+F\+A\+L\+S\+E\char`\"{}=0. Whether the previous operation tried to read past the last byte in the file.
\item {\itshape last\+\_\+operation\+\_\+status}\+: \char`\"{}\+S\+U\+C\+C\+E\+S\+S\char`\"{}=1 or \char`\"{}\+F\+A\+I\+L\+U\+R\+E\char`\"{}=0 Each operation on the I\+File sets this.
\item {\itshape last\+\_\+operation\+\_\+status\+\_\+message}\+: a string written by each of the I\+File functions, whether they succeed or fail.
\item {\itshape access}\+: A copy of the dataset-\/metadata entry.
\item {\itshape size}\+: The current file size in bytes. This is obtained when opened using H\+D\+F5 function calls. Thereafter it is updated by the the functions as needed.
\end{DoxyItemize}

\begin{DoxyParagraph}{}
Functions that deal with these metadata items are given below. Generally the user should never call any of these, except for\+:
\begin{DoxyItemize}
\item \hyperlink{ifile_8h_aefcce5509a2d88c4c8d6f9c7cd9c9ccd}{I\+File\+Set\+Writeability()} for setting the writeability of an I\+File when it is closed.
\item \hyperlink{ifile_8h_a6c803c53f6270b21c375b7e07b05f1c8}{I\+File\+Error()} for determining error status
\item \hyperlink{ifile_8h_a361dcf308fbd5daa498812775caef88c}{I\+File\+Perror()} for printing the latest error
\item \hyperlink{ifile_8h_aaaf332e19de762dcb8236862d6b5a937}{I\+File\+E\+O\+F()} for determining the E\+O\+F status of last read
\item \hyperlink{ifile_8h_a40774bec8a23ec055276666af845a64b}{I\+File\+Seek()} for moving the file position
\item \hyperlink{ifile_8h_abba9b29cbd1df9a22516366c96c528fa}{I\+File\+Tell()} for determining the file position
\item \hyperlink{ifile_8h_a7a163f17d23c422baeebd61229f70c40}{I\+File\+Rewind()} for setting the file position to 0
\end{DoxyItemize}
\end{DoxyParagraph}

\begin{DoxyItemize}
\item G\+S\+\_\+\+Object\+Is\+I\+File -- must be a dataset with dataset\+\_\+type=\char`\"{}1\char`\"{}
\item G\+S\+\_\+\+Dataset\+Get\+Type-- returns the dataset\+\_\+type
\item G\+S\+\_\+\+Dataset\+Set\+Type-- sets the dataset\+\_\+type
\item I\+File\+Clear\+Error -- sets last\+\_\+operation\+\_\+status=\char`\"{}\+S\+U\+C\+C\+E\+S\+S\char`\"{} and sets last\+\_\+operation\+\_\+status\+\_\+message
\item I\+File\+Error -- returns T\+R\+U\+E if last\+\_\+operation\+\_\+status=\char`\"{}\+F\+A\+I\+L\+U\+R\+E\char`\"{}
\item I\+File\+Perror -- prints last\+\_\+operation\+\_\+status\+\_\+message
\item I\+File\+Read\+Status -- reads last\+\_\+operation\+\_\+status, and last\+\_\+operation\+\_\+status\+\_\+message
\item I\+File\+Write\+Status -- writes last\+\_\+operation\+\_\+status, and last\+\_\+operation\+\_\+status\+\_\+message
\item I\+File\+Write\+Status\+Message -- writes last\+\_\+operation\+\_\+status\+\_\+message
\item I\+File\+E\+O\+F -- returns T\+R\+U\+E if read\+Past\+E\+O\+F=\char`\"{}\+T\+R\+U\+E\char`\"{}
\item I\+File\+Set\+E\+O\+F -- writes to read\+Past\+E\+O\+F
\item I\+File\+Get\+Write -- returns T\+R\+U\+E If writeable=\char`\"{}\+T\+R\+U\+E\char`\"{}
\item I\+File\+Set\+Write -- sets writeability (developer function)
\item I\+File\+Set\+Writeability -- sets writeability (user function)
\item I\+File\+Read\+Access -- reads access
\item I\+File\+Write\+Access -- writes access
\item I\+File\+Seek -- sets file\+\_\+position
\item I\+File\+Tell -- reads file\+\_\+position
\item I\+File\+Rewind -- sets file\+\_\+position to \char`\"{}0\char`\"{}
\end{DoxyItemize}

\begin{DoxyParagraph}{}
Functions to deal with the file size directly\+:
\end{DoxyParagraph}

\begin{DoxyItemize}
\item I\+File\+Truncate -- sets size of file (can shrink or grow)
\item I\+File\+Allocate -- expands file size if needed
\item I\+File\+Size -- gets the current file size from the struct
\item I\+File\+Size\+H\+D\+F -- gets the current file size from H\+D\+F
\end{DoxyItemize}

\begin{DoxyParagraph}{}
Other functions that the user can use include\+:
\end{DoxyParagraph}

\begin{DoxyItemize}
\item I\+File\+Open -- open an I\+File
\item I\+File\+Close -- close an I\+File
\item I\+File\+Flush -- flush any changes to the I\+File to disk
\item I\+File\+Getc -- read a single character
\item I\+File\+Gets -- read a newline-\/terminated string
\item I\+File\+Read -- read a set number of bytes
\item I\+File\+Scanf -- formatted-\/read from next \char`\"{}line\char`\"{}
\item I\+File\+Putc -- write a single character
\item I\+File\+Puts -- write a newline-\/terminated string
\item I\+File\+Write -- write a set number of bytes
\item I\+File\+Printf -- write a formatted string
\end{DoxyItemize}

\begin{DoxyParagraph}{}
Note that there is only O\+N\+E C\+O\+P\+Y of the file state, so there can only be one process that is using it at one time. This is on purpose so that there are no parallel-\/read-\/write issues. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a361dcf308fbd5daa498812775caef88c}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Perror@{I\+File\+Perror}}
\index{I\+File\+Perror@{I\+File\+Perror}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Perror}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Perror (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{const char $\ast$}]{str}
\end{DoxyParamCaption}
)}\label{ifile_8h_a361dcf308fbd5daa498812775caef88c}


I\+File\+Perror prints latest error for an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em str} & String containing a custom message to be printed before the error message itself. If it is a null pointer, no preceding custom message is printed, but the error message is still printed. By convention, the name of the application itself is generally used as parameter.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+U\+E is returned on success, F\+A\+L\+S\+E otherwise.

This function should be called right after the error was produced, otherwise the error of interest can be overwritten by calls to other functions. 
\end{DoxyReturn}


\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to print the latest error related to an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 
9 if(!IFilePerror(ifilep,NULL))\{
10    printf("perror failed\(\backslash\)n");
11 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
Prints the latest error message related to the internal file to {\ttfamily stdout}, optionally preceded by the custom message provided in str. This function is meant to emulate as close as possible the standard C perror() function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_af36409944c39397b10b715e02478d560}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Printf@{I\+File\+Printf}}
\index{I\+File\+Printf@{I\+File\+Printf}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Printf}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Printf (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{const char $\ast$}]{format, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\label{ifile_8h_af36409944c39397b10b715e02478d560}


I\+File\+Printf writes formatted data to an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open()}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close()} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em format} & String that contains the text to be written to the internal file. It can optionally contain embedded format specifiers that are replaced by the values specified in subsequent additional arguments and formatted as requested. See docs for {\ttfamily fscanf()} in any C book for the complete details. \\
\hline
\mbox{\tt in}  & {\em ...} & (additional arguments) Depending on the format string, the function may expect a sequence of additional arguments, each containing a pointer to allocated storage where the interpretation of the extracted characters is stored with the appropriate type. There should be at least as many of these arguments as the number of values stored by the format specifiers. Additional arguments are ignored by the function.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, the function returns the number of characters successfully written.

If a reading error happens or the end-\/of-\/file is reached while reading, the proper indicator is set (\hyperlink{ifile_8h_aaaf332e19de762dcb8236862d6b5a937}{I\+File\+E\+O\+F()} or \hyperlink{ifile_8h_a6c803c53f6270b21c375b7e07b05f1c8}{I\+File\+Error()}). And, if either happens before any data could be successfully written, E\+R\+R\+O\+R is returned.

The error\+\_\+string variable is also set to a system-\/specific error code on failure. 
\end{DoxyReturn}


\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to write a string to the next line of the internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 int an\_int;
4 int n;
5 
6 ifilep = IFileOpen(file\_id,"/somename","w");
7 if(!ifilep) \{
8    printf("IFileOpen failed on /somename\(\backslash\)n");
9 \}
10 an\_int = 5;
11 n =IFilePrintf(ifilep, "The value is: %d", an\_int);
12 if(n==1)\{
13    printf("successfully wrote the integer: %d\(\backslash\)n",an\_int);
14 \} else \{
15    printf("problem writing the integer\(\backslash\)n");
16 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C {\ttfamily fprintf()} function.

Writes the string pointed by format to the internal file. If format includes format specifiers (subsequences beginning with \%), the additional arguments following format are formatted and inserted in the resulting string replacing their respective specifiers.

After the format parameter, the function expects at least as many additional arguments as specified by format. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a8a7e66cd5decd8a753cc05d87e796399}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Putc@{I\+File\+Putc}}
\index{I\+File\+Putc@{I\+File\+Putc}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Putc}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Putc (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{char}]{character}
\end{DoxyParamCaption}
)}\label{ifile_8h_a8a7e66cd5decd8a753cc05d87e796399}


I\+File\+Putc writes a single character to an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em character} & The character to write.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, T\+R\+U\+E is returned.

If some writing error happens, the function returns F\+A\+L\+S\+E, and sets its error indicator (I\+File\+Error). 
\end{DoxyReturn}


\begin{DoxyParagraph}{Exmaple}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to write the character \textquotesingle{}a\textquotesingle{} to an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 int the\_int\_char;
4 char the\_char;
5 
6 ifilep = IFileOpen(file\_id,"/somename","w");
7 if(!ifilep) \{
8    printf("IFileOpen failed on /somename\(\backslash\)n");
9 \}
10 
11 the\_char = 'a';
12 if(!IFilePutc(ifilep, the\_char))\{
13    printf("write failed\(\backslash\)n");
14 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C {\ttfamily fputc()} function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a5a2e70727c241df05141bfebccbea299}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Puts@{I\+File\+Puts}}
\index{I\+File\+Puts@{I\+File\+Puts}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Puts}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Puts (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{const char $\ast$}]{string}
\end{DoxyParamCaption}
)}\label{ifile_8h_a5a2e70727c241df05141bfebccbea299}


I\+File\+Puts writes a string to an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em string} & The character string to write.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, T\+R\+U\+E is returned. If some writing error happens, the function returns F\+A\+L\+S\+E, and sets its error indicator (I\+File\+Error).
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to write the character string \char`\"{}already\char`\"{} to an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 
9 if(!IFilePuts(ifilep, "already"))\{
10    printf("write failed\(\backslash\)n");
11 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C {\ttfamily fputs()} function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a72ec9c17d545304d3a89fa6bc6145317}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Read@{I\+File\+Read}}
\index{I\+File\+Read@{I\+File\+Read}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Read}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t I\+File\+Read (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{void $\ast$}]{buf, }
\item[{int}]{size, }
\item[{int}]{count}
\end{DoxyParamCaption}
)}\label{ifile_8h_a72ec9c17d545304d3a89fa6bc6145317}


I\+File\+Read reads the requested number of bytes from an internal file in a geosci file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in,out}  & {\em buf} & Pointer to an array where the bytes read are copied to. This must have at least size$\ast$count bytes of storage. Using a void pointer here allows the user to pass a buf variable of any type. \\
\hline
\mbox{\tt in}  & {\em size} & Size in bytes of each element to be read. \\
\hline
\mbox{\tt in}  & {\em count} & Number of elements to read. Each element has a size of \char`\"{}size\char`\"{} bytes.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The total number of elements successfully read is returned.

If this number differs from the count parameter, either a reading error occurred or the end-\/of-\/file was reached while reading. In both cases, the proper indicator is set, which can be checked with I\+File\+Error and I\+File\+E\+O\+F, respectively.

If either {\ttfamily size} or {\ttfamily count} is less than or equal to zero, the function returns zero and both the internal-\/file state and the content pointed to by {\ttfamily buf} remain unchanged. 
\end{DoxyReturn}


\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to read the next 10 characters from an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 char *buf;
4 
5 buf = (char *)GMalloc(10*sizeof(char));
6 if(!buf)\{
7    printf("GMalloc error\(\backslash\)n");
8    exit(-1);
9 \}
10 
11 ifilep = IFileOpen(file\_id,"/somename","w");
12 if(!ifilep) \{
13    printf("IFileOpen failed on /somename\(\backslash\)n");
14 \}
15 
16 if(IFileRead(ifilep, buf, sizeof(char),10) != 10)\{
17    printf("read failed\(\backslash\)n");
18 \}
19 
20 ...use buf here....
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C {\ttfamily fread()} function.

The types of size and count are purposely {\ttfamily int} and not {\ttfamily size\+\_\+t} because if the user accidentally passes a negative value the value becomes a very big number when casted to an unsigned integer, which is what {\ttfamily size\+\_\+t} is. In order to detect this error, {\ttfamily int} is used instead. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_ade52718b208c03db3694dbbdcf30a205}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Read\+Access@{I\+File\+Read\+Access}}
\index{I\+File\+Read\+Access@{I\+File\+Read\+Access}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Read\+Access}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Read\+Access (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_ade52718b208c03db3694dbbdcf30a205}


I\+File\+Read\+Access reads access code of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, one of\+: ~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+C\+L\+O\+S\+E\+D} 0 ~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+R} 1 ~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+W} 2 ~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+A} 3 ~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+R\+P} 4 ~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+W\+P} 5 ~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+A\+P} 6 ~\newline
 On failure, E\+R\+R\+O\+R is returned.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to determine the access code for an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 int access\_code;
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 if(!ifilep) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 access\_code = IFileReadAccess(ifilep);
11 if(access\_code<0)\{
12    printf("could not obtain access code for internal file\(\backslash\)n");
13 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is used by the I\+File$\ast$ functions to determine how to implement each function for a specific file access code. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a169de07d52b678ebcd4cafa3d7852b79}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Read\+Access\+H\+D\+F@{I\+File\+Read\+Access\+H\+D\+F}}
\index{I\+File\+Read\+Access\+H\+D\+F@{I\+File\+Read\+Access\+H\+D\+F}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Read\+Access\+H\+D\+F}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Read\+Access\+H\+D\+F (
\begin{DoxyParamCaption}
\item[{hid\+\_\+t}]{dataset\+\_\+id}
\end{DoxyParamCaption}
)}\label{ifile_8h_a169de07d52b678ebcd4cafa3d7852b79}


I\+File\+Read\+Access\+H\+D\+F reads access code of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em datset\+\_\+id} & The hdf-\/id of the open internal file dataset-\/object.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, one of\+:~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+C\+L\+O\+S\+E\+D} 0 ~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+R} 1 ~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+W} 2 ~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+A} 3 ~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+R\+P} 4 ~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+W\+P} 5 ~\newline
{\ttfamily I\+F\+I\+L\+E\+\_\+\+A\+P} 6 ~\newline
On failure, {\ttfamily E\+R\+R\+O\+R} is returned.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to determine the access code for an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 his\_t dataset\_id;
3 int access\_code;
4 
5 dataset\_id = GS\_DatasetOpen(file\_id,"/somename");
6 if(dataset\_id < 0) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 access\_code = IFileReadAccessHDF(dataset\_id);
11 if(access\_code<0)\{
12    printf("could not obtain access code for internal file\(\backslash\)n");
13 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is used by the I\+File$\ast$ functions to determine how to implement each function for a specific file access code. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_aef0ba4b82b44ad03f5781d3b5e7021ac}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Read\+A\+Line@{I\+File\+Read\+A\+Line}}
\index{I\+File\+Read\+A\+Line@{I\+File\+Read\+A\+Line}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Read\+A\+Line}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Read\+A\+Line (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{char $\ast$}]{str, }
\item[{int}]{num}
\end{DoxyParamCaption}
)}\label{ifile_8h_aef0ba4b82b44ad03f5781d3b5e7021ac}


I\+File\+Read\+A\+Line reads a string from an internal file. 

\hyperlink{ifile_8h_aef0ba4b82b44ad03f5781d3b5e7021ac}{I\+File\+Read\+A\+Line()} reads characters from an internal file in a geosci file, and stores them as a string until the maximum number of characters have been read or either a newline or the end-\/of-\/file is reached, whichever happens first.

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, File\+Close, \hyperlink{ifile_8h_a3afc35a680bf7e55be809265a899aef8}{I\+File\+Gets}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in,out}  & {\em str} & Pointer to an array of chars where the string read is copied. \\
\hline
\mbox{\tt in}  & {\em num} & Maximum number of characters to be copied into {\ttfamily str} (including the terminating null-\/character).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function uses \hyperlink{ifile_8h_a3afc35a680bf7e55be809265a899aef8}{I\+File\+Gets()} to read the data, any errors encountered will cause this routine to return E\+R\+R\+O\+R.

If the read succeeds, but the last character read is N\+O\+T a newline, then it returns F\+A\+L\+S\+E.

If there are no read errors, and a complete line is read, then T\+R\+U\+E is returned. 
\end{DoxyReturn}


\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to read the next line of characters (up to the next \char`\"{}\textbackslash{}n\char`\"{}) from an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 char the\_string[1000];
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 if(!ifielp) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 status = IFileReadALine(ifilep, the\_string, 1000);
11 if(status==ERROR)\{
12    printf("read failed\(\backslash\)n");
13 \} else if (status=FALSE)\{
14    printf("string is incomplete\(\backslash\)n");
15 \} else \{
16    printf('complete string read successfully.\(\backslash\)n");
17 
18    ...use the\_string here....
19 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
Similar to \hyperlink{ifile_8h_a3afc35a680bf7e55be809265a899aef8}{I\+File\+Gets()}, but provides clearer return error codes. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_ad45d5e4d60551a22f2733addc723cc36}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Read\+Status@{I\+File\+Read\+Status}}
\index{I\+File\+Read\+Status@{I\+File\+Read\+Status}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Read\+Status}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Read\+Status (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{char $\ast$$\ast$}]{message}
\end{DoxyParamCaption}
)}\label{ifile_8h_ad45d5e4d60551a22f2733addc723cc36}


I\+File\+Read\+Status reads the status properties of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em message} & Returned Message associated with the status. No need to G\+Free it when done.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, the return value is one of\+:~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+S\+U\+C\+C\+E\+S\+S} -- the last I\+File operation succeeded~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+F\+A\+I\+L\+U\+R\+E} -- the last I\+File operation failed~\newline
On failure, {\ttfamily F\+A\+L\+S\+E} is returned. The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one has created an internal file is named \char`\"{}/somename\char`\"{} and the last write operation may have failed. Let\textquotesingle{}s get the status. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 int status;
4 char *status\_str;
5 
6 ifilep = IFileOpen(file\_id,"/somename","w");
7 if(!ifilep) \{
8    printf("IFileOpen failed on /somename\(\backslash\)n");
9 \}
10 
11 status = IFileReadStatus(ifilep,&status\_str);
12 if(!status)\{
13    printf("IFileReadStatus failed\(\backslash\)n");
14 \} else \{
15    if(status == IFILE\_SUCCESS)\{
16       printf("status of last operation is: SUCCESS\(\backslash\)n");
17    \} else \{
18       printf("status of last operation is: FAILURE\(\backslash\)n");
19    \} // endif 
20    printf("status message: %s\(\backslash\)n",status\_str);
21 \} // endif
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function encapsulates reading the I\+File status metadata. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a7a163f17d23c422baeebd61229f70c40}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Rewind@{I\+File\+Rewind}}
\index{I\+File\+Rewind@{I\+File\+Rewind}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Rewind}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Rewind (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_a7a163f17d23c422baeebd61229f70c40}


I\+File\+Rewind moves to the start of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily T\+R\+U\+E} is returned on success, {\ttfamily F\+A\+L\+S\+E} otherwise. The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to rewind an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 
9 if(!IFileRewind(ifilep))\{
10    printf("rewind failed\(\backslash\)n");
11 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C {\ttfamily rewind()} function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_adfedf1cfc33e7e1006f6eeddc98530b1}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Scanf@{I\+File\+Scanf}}
\index{I\+File\+Scanf@{I\+File\+Scanf}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Scanf}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Scanf (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{const char $\ast$}]{format, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\label{ifile_8h_adfedf1cfc33e7e1006f6eeddc98530b1}


I\+File\+Scanf reads formatted data from an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em format} & String that contains a sequence of characters that control how characters extracted from the stream are treated. See docs for {\ttfamily fscanf()} in any C book for the complete details.\\
\hline
\mbox{\tt in}  & {\em ...} & (additional arguments) Depending on the format string, the function may expect a sequence of additional arguments, each containing a pointer to allocated storage where the interpretation of the extracted characters is stored with the appropriate type. There should be at least as many of these arguments as the number of values stored by the format specifiers. Additional arguments are ignored by the function. These arguments are expected to be pointers\+: to store the result of a I\+File\+Scanf operation on a regular variable, its name should be preceded by the reference operator (\&) (see example).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, the function returns the number of items of the argument list successfully filled. This count can match the expected number of items or be less (even zero) due to a matching failure, a reading error, or the reaching of the end-\/of-\/file.

If a reading error happens or the end-\/of-\/file is reached while reading, the proper indicator is set (\hyperlink{ifile_8h_aaaf332e19de762dcb8236862d6b5a937}{I\+File\+E\+O\+F()} or \hyperlink{ifile_8h_a6c803c53f6270b21c375b7e07b05f1c8}{I\+File\+Error()}). And, if either happens before any data could be successfully read, {\ttfamily E\+R\+R\+O\+R} is returned.

The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure. 
\end{DoxyReturn}


\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to read an integer from the next line of the internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 int an\_int;
4 int n;
5 
6 ifilep = IFileOpen(file\_id,"/somename","w");
7 if(!ifilep) \{
8    printf("IFileOpen failed on /somename\(\backslash\)n");
9 \}
10 n =IFileScanf(ifilep, "%d", &an\_int);
11 if(n==1)\{
12    printf("successfully read the integer: %d\(\backslash\)n",an\_int);
13 \} else \{
14    printf("problem reading the integer\(\backslash\)n");
15 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C {\ttfamily fscanf()} function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a40774bec8a23ec055276666af845a64b}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Seek@{I\+File\+Seek}}
\index{I\+File\+Seek@{I\+File\+Seek}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Seek}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Seek (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{long int}]{offset, }
\item[{int}]{origin}
\end{DoxyParamCaption}
)}\label{ifile_8h_a40774bec8a23ec055276666af845a64b}


I\+File\+Seek moves to a position in an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em offset} & Offset, in bytes, from a reference position where the new file pointer is desired to go. \mbox{[}in\mbox{]} origin Position used as reference for the offset. Specify one of the following constants \+: \begin{TabularNC}{2}
\hline
\rowcolor{lightgray}{\bf Constant }&{\bf Reference Position  }\\\cline{1-2}
S\+E\+E\+K\+\_\+\+S\+E\+T &Start of file \\\cline{1-2}
S\+E\+E\+K\+\_\+\+C\+U\+R &Current position in the file \\\cline{1-2}
S\+E\+E\+K\+\_\+\+E\+N\+D &End of file \\\cline{1-2}
\end{TabularNC}
\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily T\+R\+U\+E} is returned on success, {\ttfamily F\+A\+L\+S\+E} otherwise.

For situations where the new position would be before the first byte, the file pointer position is not changed, and {\ttfamily F\+A\+L\+S\+E} is returned.

For situations where the new position is beyond the last byte, this is allowed, but a subsequent read will fail. A subsequent write will \char`\"{}fill in\char`\"{} {\ttfamily N\+U\+L\+L} bytes to get to this point before writing.

The error\+\_\+string variable is also set to a system-\/specific error code on failure. 
\end{DoxyReturn}


\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to skip to byte 35 in an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 
9 if(!IFileSeek(ifilep, 35L, SEEK\_SET))\{
10    printf("seek failed\(\backslash\)n");
11 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C {\ttfamily fseek()} function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a52b582df33eb77703df1219114a64368}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Set\+E\+O\+F@{I\+File\+Set\+E\+O\+F}}
\index{I\+File\+Set\+E\+O\+F@{I\+File\+Set\+E\+O\+F}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Set\+E\+O\+F}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Set\+E\+O\+F (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{int}]{value}
\end{DoxyParamCaption}
)}\label{ifile_8h_a52b582df33eb77703df1219114a64368}


I\+File\+Set\+E\+O\+F sets End-\/\+Of-\/\+File condition on an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em filep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em value} & The value to set the {\ttfamily E\+O\+F} condition to, one of\+:~\newline
 {\ttfamily T\+R\+U\+E} (if there was an {\ttfamily E\+O\+F} ), or\+:~\newline
 {\ttfamily F\+A\+L\+S\+E} (there was not an {\ttfamily E\+O\+F} ) ~\newline
\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily T\+R\+U\+E} is returned when the condition is set successfully, {\ttfamily F\+A\+L\+S\+E} if not. The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to set that the previous read hit an {\ttfamily E\+O\+F} on an internal file named \char`\"{}/somename\char`\"{} succeeded or not. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep < 0) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 if(!IFileSetEOF(ifilep, TRUE))\{
9    printf("could not set EOF condition\(\backslash\)n");
10 \} else \{
11    printf("successfully set EOF condition to TRUE\(\backslash\)n");
12 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is used internally by the I\+File$\ast$ functions, and is not meant for usage by the normal user. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a396268f8a6f981e1d514b6a08d545761}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Set\+Write@{I\+File\+Set\+Write}}
\index{I\+File\+Set\+Write@{I\+File\+Set\+Write}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Set\+Write}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Set\+Write (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{int}]{property}
\end{DoxyParamCaption}
)}\label{ifile_8h_a396268f8a6f981e1d514b6a08d545761}


I\+File\+Set\+Write sets the read/write property of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em property} & The value to set the read/write property to\+:~\newline
 G\+S\+\_\+\+R\+E\+A\+D -- internal file set to read-\/only mode~\newline
 G\+S\+\_\+\+W\+R\+I\+T\+E -- internal file set to read and write mode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily T\+R\+U\+E} is returned on success, {\ttfamily F\+A\+L\+S\+E} otherwise. The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure. 
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to create an internal file is named \char`\"{}/somename\char`\"{} and make it writeable. This is used by the internal I\+File\+Open routine when creating a new internal file. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 
9 if(!IFileSetWrite(ifilep,GS\_WRITE))\{
10    printf("IFileSetWrite to read-write failed\(\backslash\)n");
11 \}
\end{DoxyCode}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to enable I\+File\+Open to make an internal file have read and write rights on creation. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_aefcce5509a2d88c4c8d6f9c7cd9c9ccd}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Set\+Writeability@{I\+File\+Set\+Writeability}}
\index{I\+File\+Set\+Writeability@{I\+File\+Set\+Writeability}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Set\+Writeability}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Set\+Writeability (
\begin{DoxyParamCaption}
\item[{hid\+\_\+t}]{file\+\_\+id, }
\item[{const char $\ast$}]{name, }
\item[{int}]{property}
\end{DoxyParamCaption}
)}\label{ifile_8h_aefcce5509a2d88c4c8d6f9c7cd9c9ccd}


I\+File\+Set\+Writeability sets the read/write property of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\+\_\+id} & The handle of the open geosci file. \\
\hline
\mbox{\tt in}  & {\em name} & Name of the internal file whose properties need to be altered. The internal file must not be open, otherwise this operation will fail. \\
\hline
\mbox{\tt in}  & {\em property} & The value to set the read/write property to\+:~\newline
 {\ttfamily G\+S\+\_\+\+R\+E\+A\+D} -- internal file set to read-\/only mode~\newline
 {\ttfamily G\+S\+\_\+\+W\+R\+I\+T\+E} -- internal file set to read and write mode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily T\+R\+U\+E} is returned on success, {\ttfamily F\+A\+L\+S\+E} otherwise. The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure.
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to make sure the file is not writeable accidentally. The internal file is named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 
3 if(!IFileSetWriteability(file\_id,"/somename",GS\_READ))\{
4    printf("IFileSetWriteability to read-only failed\(\backslash\)n");
5 \}
\end{DoxyCode}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to enable a user to make an internal file have read and write rights like in the standard file system. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_ae4b0643765d564071f1f55f33ebb6e10}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Size@{I\+File\+Size}}
\index{I\+File\+Size@{I\+File\+Size}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Size}]{\setlength{\rightskip}{0pt plus 5cm}long int I\+File\+Size (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_ae4b0643765d564071f1f55f33ebb6e10}


I\+File\+Size gets the \#bytes in an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, the number of characters in the internal file is returned. -\/1 is returned on error. 
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to know the size of an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 long int numbytes;
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 if(!ifilep) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 numbytes = IFileSize(ifilep);
11 if(numbytes < 0) \{
12    printf("failed to get file size\(\backslash\)n");
13 \}
\end{DoxyCode}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
There is no equivalent standard C function to get the size of an open file. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_af1a575404e6e3648952ae70d281b3552}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Size\+H\+D\+F@{I\+File\+Size\+H\+D\+F}}
\index{I\+File\+Size\+H\+D\+F@{I\+File\+Size\+H\+D\+F}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Size\+H\+D\+F}]{\setlength{\rightskip}{0pt plus 5cm}long int I\+File\+Size\+H\+D\+F (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_af1a575404e6e3648952ae70d281b3552}


I\+File\+Size\+H\+D\+F gets the \#bytes in an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, the number of characters in the internal file is returned. -\/1 is returned on error. 
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to know the size of an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 long int numbytes;
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 if(ifilep < 0) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 numbytes = IFileSizeHDF(ifilep);
11 if(numbytes < 0) \{
12    printf("failed to get file size\(\backslash\)n");
13 \}
\end{DoxyCode}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
There is no equivalent C function to get the size of an open file. This is distinct from \hyperlink{ifile_8h_ae4b0643765d564071f1f55f33ebb6e10}{I\+File\+Size()} because this function asks the H\+D\+F5 system how big the dataset is. This is useful when we need to initialize the size when we open an existing \hyperlink{structIFILE}{I\+F\+I\+L\+E}. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_abba9b29cbd1df9a22516366c96c528fa}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Tell@{I\+File\+Tell}}
\index{I\+File\+Tell@{I\+File\+Tell}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Tell}]{\setlength{\rightskip}{0pt plus 5cm}long int I\+File\+Tell (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep}
\end{DoxyParamCaption}
)}\label{ifile_8h_abba9b29cbd1df9a22516366c96c528fa}


I\+File\+Tell retrieves the current read/write position in an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The position in the file is returned on success, and -\/1\+L on failure. The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure. 
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to find the position of the file-\/pointer in an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 long int position;
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 if(!ifilep) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 position = IFileTell(ifilep);
11 if(position < 0)\{
12    printf("tell failed\(\backslash\)n");
13 \}
\end{DoxyCode}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C {\ttfamily ftell()} function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_af18bb2cd94833d1f8f7176d12537695c}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Truncate@{I\+File\+Truncate}}
\index{I\+File\+Truncate@{I\+File\+Truncate}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Truncate}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Truncate (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{long int}]{length}
\end{DoxyParamCaption}
)}\label{ifile_8h_af18bb2cd94833d1f8f7176d12537695c}


I\+File\+Truncate changes the size of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em length} & The desired length, in bytes, of the file. Must be $>$= 0. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily T\+R\+U\+E} is returned on success, {\ttfamily F\+A\+L\+S\+E} otherwise. The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure. 
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to make the new size be 1000 bytes for an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 long int icount;
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 if(!ifilep) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 icount = 1000L;
11 if(!IFileTruncate(ifilep, icount))\{
12    printf("truncate failed\(\backslash\)n");
13 \}
\end{DoxyCode}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
If the size of the file is less than {\ttfamily length}, then the file is increased to this size. If the size of the file is greater than {\ttfamily length}, then the file is decreased to this size. This function is meant to emulate as close as possible the standard C {\ttfamily ftruncate()} function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_af21affaf53c0b66911c745dd6248ccf7}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Write@{I\+File\+Write}}
\index{I\+File\+Write@{I\+File\+Write}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Write}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Write (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{const void $\ast$}]{buf, }
\item[{int}]{size, }
\item[{int}]{count}
\end{DoxyParamCaption}
)}\label{ifile_8h_af21affaf53c0b66911c745dd6248ccf7}


I\+File\+Write writes bytes to an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in,out}  & {\em buf} & Pointer to an array where the bytes to write are read from. This must have at least size$\ast$count bytes of storage. Using a void pointer here allows the user to pass a {\ttfamily buf} variable of any type. \\
\hline
\mbox{\tt in}  & {\em size} & Size in bytes of each element to be written. \\
\hline
\mbox{\tt in}  & {\em count} & Number of elements to write. Each element has a size of \char`\"{}size\char`\"{} bytes. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The total number of elements successfully written is returned.

If this number differs from the count parameter, a writing error prevented the function from completing. In this case, the error indicator (I\+File\+Error) will be set for the stream.

If either size or count is less than or equal to zero, the function returns zero and both the internal-\/file state and the content pointed to by {\ttfamily buf} remain unchanged. 
\end{DoxyReturn}


\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to write 10 ints in an int vector (starting at index 5) to an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 int intvec[100];
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 if(!ifilep < 0) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 if(!IFileWrite(ifilep,intvec+5, sizeof(int),10L ))\{
11    printf("write failed\(\backslash\)n");
12 \}
\end{DoxyCode}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is meant to emulate as close as possible the standard C {\ttfamily fwrite()} function. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a1b9797ae1226f5e7dc952e6686adfd8c}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Write\+Access@{I\+File\+Write\+Access}}
\index{I\+File\+Write\+Access@{I\+File\+Write\+Access}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Write\+Access}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Write\+Access (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{int}]{code}
\end{DoxyParamCaption}
)}\label{ifile_8h_a1b9797ae1226f5e7dc952e6686adfd8c}


I\+File\+Write\+Access writes a new access code for an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em code} & The access code one wishes to write to the file, one of\+:~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+C\+L\+O\+S\+E\+D} 0 ~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+R} 1 ~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+W} 2 ~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+A} 3 ~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+R\+P} 4 ~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+W\+P} 5 ~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+A\+P} 6 ~\newline
\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily T\+R\+U\+E} is returned on success, {\ttfamily F\+A\+L\+S\+E} on failure. 
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one wants to set the access code to read-\/only for an internal file named \char`\"{}/somename\char`\"{}. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 int access\_code;
4 
5 ifilep = IFileOpen(file\_id,"/somename","w");
6 if(!ifilep) \{
7    printf("IFileOpen failed on /somename\(\backslash\)n");
8 \}
9 
10 if(!IFileWriteAccess(ifilep, IFILE\_R))\{
11    printf("could not set access code for internal file\(\backslash\)n");
12 \}
\end{DoxyCode}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function is used by the I\+File$\ast$ functions to set the internal-\/file access policy. They can be read, write, append, read-\/and-\/update, write-\/and-\/update, append-\/and-\/update, as well as closed. This routine is for use by the I\+File$\ast$ routines, and not normally for use by ordinary users. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_a04c255b65dccaf71c2e826a3ecfbd3ee}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Write\+Status@{I\+File\+Write\+Status}}
\index{I\+File\+Write\+Status@{I\+File\+Write\+Status}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Write\+Status}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Write\+Status (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{int}]{status, }
\item[{const char $\ast$}]{message}
\end{DoxyParamCaption}
)}\label{ifile_8h_a04c255b65dccaf71c2e826a3ecfbd3ee}


I\+File\+Write\+Status writes the status properties of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, \hyperlink{ifile_8h_a6c8f114749f9cc332e2cf013098671a5}{I\+File\+Close} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em status} & The value to set the status property to\+:~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+S\+U\+C\+C\+E\+S\+S} -- the last I\+File operation succeeded ~\newline
 {\ttfamily I\+F\+I\+L\+E\+\_\+\+F\+A\+I\+L\+U\+R\+E} -- the last I\+File operation failed ~\newline
\\
\hline
\mbox{\tt in}  & {\em message} & Message associated with the status. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily T\+R\+U\+E} is returned on success, {\ttfamily F\+A\+L\+S\+E} otherwise. The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure. 
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one has created an internal file is named \char`\"{}/somename\char`\"{} and the last write operation failed (using \hyperlink{ifile_8h_a8a7e66cd5decd8a753cc05d87e796399}{I\+File\+Putc()}). 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 
6 if(!IFileWriteStatus(ifilep,IFILE\_FAILURE,"IFilePutc() failed"))\{
7    printf("IFileWriteStatus failed\(\backslash\)n");
8 \}
\end{DoxyCode}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Details.}
This function encapsulates writing the I\+File status metadata. This function would not be used by the ordinary user. 
\end{DoxyParagraph}
\hypertarget{ifile_8h_ae2d81157c93e90f61645886bc82f4c8f}{}\index{ifile.\+h@{ifile.\+h}!I\+File\+Write\+Status\+Message@{I\+File\+Write\+Status\+Message}}
\index{I\+File\+Write\+Status\+Message@{I\+File\+Write\+Status\+Message}!ifile.\+h@{ifile.\+h}}
\subsubsection[{I\+File\+Write\+Status\+Message}]{\setlength{\rightskip}{0pt plus 5cm}int I\+File\+Write\+Status\+Message (
\begin{DoxyParamCaption}
\item[{{\bf I\+F\+I\+L\+E} $\ast$}]{ifilep, }
\item[{const char $\ast$}]{message}
\end{DoxyParamCaption}
)}\label{ifile_8h_ae2d81157c93e90f61645886bc82f4c8f}


I\+File\+Write\+Status\+Message writes the status message of an internal file. 

\begin{DoxySeeAlso}{See also}
\hyperlink{ifile_8h_a659760c048381d534347487e14cd5e25}{I\+File\+Open}, File\+Close, \hyperlink{ifile_8h_a04c255b65dccaf71c2e826a3ecfbd3ee}{I\+File\+Write\+Status} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ifilep} & The struct of the open internal file. \\
\hline
\mbox{\tt in}  & {\em message} & Message associated with the status. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily T\+R\+U\+E} is returned on success, {\ttfamily F\+A\+L\+S\+E} otherwise. The {\ttfamily error\+\_\+string} variable is also set to a system-\/specific error code on failure. 
\end{DoxyReturn}
\begin{DoxyParagraph}{Example}
Let\textquotesingle{}s assume that one already has an Geo\+Sci file, and one has created an internal file is named \char`\"{}/somename\char`\"{} and one wishes to write a status message that the last operation caused the file to hit the end-\/of-\/file. 
\begin{DoxyCode}
1 hid\_t file\_id;
2 IFILE *ifilep;
3 
4 ifilep = IFileOpen(file\_id,"/somename","w");
5 if(!ifilep) \{
6    printf("IFileOpen failed on /somename\(\backslash\)n");
7 \}
8 
9 if(!IFileWriteStatusMessage(ifilep,"IFilePutc() hit EOF"))\{
10    printf("IFileWriteStatusMessage failed\(\backslash\)n");
11 \}
\end{DoxyCode}
 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Details}
This function encapsulates writing the I\+File status metadata. This function would not normally be called by a user. 
\end{DoxyParagraph}
